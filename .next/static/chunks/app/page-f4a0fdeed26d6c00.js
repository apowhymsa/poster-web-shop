(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3672:function(e,t,r){Promise.resolve().then(r.bind(r,5143)),Promise.resolve().then(r.t.bind(r,481,23))},5143:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(7437),i=r(1396),o=r.n(i),c=r(2265);let a=c.forwardRef(function({title:e,titleId:t,...r},s){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"}))}),n=c.forwardRef(function({title:e,titleId:t,...r},s){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605"}))}),l=c.forwardRef(function({title:e,titleId:t,...r},s){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},r),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}))});var d=r(5690),u=r(7465),p=r(8464),m=e=>{let{productsData:t,isLoadingData:r}=e,[i,m]=(0,c.useState)(r),h=(0,p.T)(),f=(0,p.C)(e=>e.productsReducer.products);return(0,c.useEffect)(()=>{h((0,u.RU)(t)),m(!1)},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"page-top",children:(0,s.jsx)("h3",{className:"my-[24px] font-bold text-gray-50 text-2xl relative z-10",children:"Мы не просто создаем букеты — мы создаем эмоции"})}),(0,s.jsxs)("div",{className:"products-popular px-10 my-7 items-center",children:[(0,s.jsxs)("div",{className:"mb-7 flex justify-between",children:[(0,s.jsx)("h3",{className:"text-2xl font-medium",children:"Популярные товары"}),(0,s.jsxs)(o(),{href:"/products?sort=1&price=0-10000",className:"underline text-rose-400 flex gap-x-2 items-center",title:"Перейти в каталог товаров",children:[(0,s.jsx)("span",{children:"Перейти в каталог"}),(0,s.jsx)(a,{className:"h-5 w-5 text-rose-400"})]})]}),(0,s.jsx)(d.Z,{isLoading:i,breakpoints:{320:{slidesPerView:1.3},485:{slidesPerView:2.3},700:{slidesPerView:3.3},1e3:{slidesPerView:4.5}},products:f})]}),(0,s.jsxs)("div",{className:"flex gap-x-16 px-10 justify-center bg-[#e5e7eb] py-10 bg-opacity-50",children:[(0,s.jsxs)("div",{className:"flex gap-x-3 items-center transition-colors hover:text-rose-400",children:[(0,s.jsx)(l,{className:"w-8 h-8 text-black"}),(0,s.jsx)("span",{children:"Быстрая доставка цветов"})]}),(0,s.jsxs)("div",{className:"flex gap-x-3 items-center transition-colors hover:text-rose-400",children:[(0,s.jsx)(n,{className:"w-8 h-8 text-black"}),(0,s.jsx)("span",{children:"Большой выбор свежих и красивых цветов"})]})]}),(0,s.jsxs)("div",{className:"products-new px-10 my-7 items-center",children:[(0,s.jsxs)("div",{className:"mb-7 flex justify-between",children:[(0,s.jsx)("h3",{className:"text-2xl font-medium",children:"Новые товары"}),(0,s.jsxs)(o(),{href:"/products?sort=2&price=0-10000",className:"underline text-rose-400 flex gap-x-2 items-center",title:"Перейти в каталог товаров",children:[(0,s.jsx)("span",{children:"Перейти в каталог"}),(0,s.jsx)(a,{className:"h-5 w-5 text-rose-400"})]})]}),(0,s.jsx)(d.Z,{isLoading:i,breakpoints:{320:{slidesPerView:1.3},485:{slidesPerView:2.3},700:{slidesPerView:3.3},1e3:{slidesPerView:4.5}},products:[...f].reverse()})]})]})}},9993:function(e,t,r){"use strict";var s=r(7437),i=r(6691),o=r.n(i),c=r(1396),a=r.n(c);r(9640);var n=r(8464),l=r(2418),d=r(2265),u=r(8138),p=r(3030);t.Z=e=>{let{product:t,isButtonVisible:r=!0}=e,{info:i,error:c}=(0,p.Z)(),{isLoading:m,isLogged:h}=(0,d.useContext)(u.V),f=(0,n.T)();return(0,n.C)(e=>e.cartReducer).cart,(0,s.jsxs)("div",{className:"product-item",children:[(0,s.jsx)(a(),{className:"product-image",href:"/products/".concat(t.product_id),children:(0,s.jsx)(o(),{src:t.photo_origin?"https://poster-shop.joinposter.com".concat(t.photo_origin):"/flower_image.jpg",alt:"Product Image",width:0,height:0,sizes:"100vw",style:{width:"100%",height:"auto",objectFit:"cover",borderRadius:"8px",objectPosition:"center center",aspectRatio:"1 / 1"},placeholder:"blur",blurDataURL:"/flower_image.jpg",priority:!0})}),(0,s.jsxs)("div",{className:"product-description",children:[(0,s.jsx)(a(),{href:"/products/".concat(t.product_id),className:"product-name",title:t.product_name,children:t.product_name}),(0,s.jsxs)("span",{className:"product-price",children:["₴ ",t.price["1"].slice(0,-2)]})]}),r?(0,s.jsx)("button",{onClick:async()=>{h?(f((0,l.ZW)({product:t,quantity:1})),i("Товар успешно добавлен в корзину")):c("Чтобы добавить товар в корзину, войдите в учётную запись!")},className:"border border-rose-400 text-rose-400 px-4 py-2 rounded transition-colors hover:bg-rose-400 hover:text-white",children:"Добавить в корзину"}):null]})}},1769:function(e,t,r){"use strict";var s=r(7437),i=r(724);t.Z=()=>(0,s.jsxs)("div",{className:"product-item",children:[(0,s.jsx)("div",{className:"product-image",children:(0,s.jsx)(i.Z,{style:{width:"100%",height:"auto",objectFit:"cover",borderRadius:"8px",objectPosition:"center center",aspectRatio:"1 / 1"}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.Z,{}),(0,s.jsx)(i.Z,{})]}),(0,s.jsx)(i.Z,{})]})},5690:function(e,t,r){"use strict";var s=r(7437),i=r(9478);r(1042),r(7021),r(5512);var o=r(9993),c=r(6967),a=r(7890),n=r(2265),l=r(1769);t.Z=e=>{let{products:t,breakpoints:r,isLoading:d}=e,[u,p]=(0,n.useState)(null);return(0,s.jsxs)(i.tq,{style:{position:"relative"},spaceBetween:25,slidesPerView:4,resistanceRatio:0,onSlideChange:()=>console.log("slide change"),onSwiper:e=>p(e),breakpoints:r,children:[!d&&(t.length>4?(0,s.jsx)("span",{onClick:()=>null==u?void 0:u.slidePrev(),className:"cursor-pointer left-0 swiper-button-next flex justify-center items-center rounded absolute w-12 h-12 bg-rose-400 transition-colors hover:bg-rose-500 top-2/4 z-20 -translate-y-2/4",children:(0,s.jsx)(c.Z,{className:"h-6 w-6 text-white"})}):null),d?[1,2,3,4,5,6].map(e=>(0,s.jsx)(i.o5,{style:{height:"auto"},children:(0,s.jsx)(l.Z,{})},e)):t.map(e=>(0,s.jsx)(i.o5,{style:{height:"auto"},children:(0,s.jsx)(o.Z,{product:e,isButtonVisible:!1},e.product_id)},e.product_id)),!d&&(t.length>4?(0,s.jsx)("span",{onClick:()=>null==u?void 0:u.slideNext(),className:"cursor-pointer swiper-button-prev flex justify-center items-center rounded absolute w-12 h-12 bg-rose-400 transition-colors hover:bg-rose-500 right-0 top-2/4 z-20 -translate-y-2/4",children:(0,s.jsx)(a.Z,{className:"h-6 w-6 text-white"})}):null)]})}},8138:function(e,t,r){"use strict";r.d(t,{V:function(){return i}});var s=r(2265);let i=(0,s.createContext)({isLogged:!1,isLoading:!1})},3030:function(e,t,r){"use strict";var s=r(171);t.Z=()=>({error:(e,t)=>{s.toast.error(e,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",...t})},info:(e,t)=>{s.toast.info(e,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",...t})}})},2122:function(e,t,r){"use strict";r.d(t,{I:function(){return a},db:function(){return n}});var s=r(994),i=r(2464),o=r(9978);let c=(0,s.ZF)({apiKey:"AIzaSyByk7n5JzbWrLCffBJXGiXWnc8MZbe0JqU",authDomain:"poster-ecommerce-shop.firebaseapp.com",projectId:"poster-ecommerce-shop",storageBucket:"poster-ecommerce-shop.appspot.com",messagingSenderId:"14361184003",appId:"1:14361184003:web:d17bfd870e4195075bcb36",measurementId:"G-N1HBV39R4Y"}),a=(0,i.v0)(c),n=(0,o.ad)(c)},2418:function(e,t,r){"use strict";r.d(t,{$R:function(){return n},LL:function(){return d},RV:function(){return u},ZW:function(){return a},wz:function(){return l}});var s=r(8340),i=r(9978),o=r(2122);let c=(0,s.oM)({name:"cart",initialState:{cart:[]},reducers:{setCart:(e,t)=>{e.cart=t.payload,console.log("payload",t.payload)},setCartItem:(e,t)=>{let r=localStorage.getItem("authUserId"),s=e.cart.findIndex(e=>e.product.product_id===t.payload.product.product_id);-1!==s?e.cart[s].quantity+=t.payload.quantity:e.cart.push(t.payload),(0,i.pl)((0,i.JU)(o.db,"users",r.toString()),{cart:[...e.cart]},{merge:!0})},updateQuantity:(e,t)=>{let r=localStorage.getItem("authUserId"),s=e.cart.findIndex(e=>e.product.product_id===t.payload.product.product_id);e.cart[s].quantity=t.payload.quantity,(0,i.pl)((0,i.JU)(o.db,"users",r.toString()),{cart:[...e.cart]},{merge:!0})},deleteItem:(e,t)=>{let r=localStorage.getItem("authUserId");e.cart=e.cart.filter(e=>e.product.product_id!==t.payload.product.product_id),(0,i.pl)((0,i.JU)(o.db,"users",r.toString()),{cart:[...e.cart]},{merge:!0})},clearCart:e=>{let t=localStorage.getItem("authUserId");e.cart=[],(0,i.pl)((0,i.JU)(o.db,"users",t.toString()),{cart:[]},{merge:!0})}}}),{setCartItem:a,updateQuantity:n,deleteItem:l,clearCart:d,setCart:u}=c.actions;t.ZP=c.reducer},8464:function(e,t,r){"use strict";r.d(t,{C:function(){return o},T:function(){return i}});var s=r(3198);let i=()=>(0,s.I0)(),o=s.v9},7465:function(e,t,r){"use strict";r.d(t,{RU:function(){return o},ft:function(){return c}});var s=r(8340);let i=(0,s.oM)({name:"products",initialState:{products:[],filteredProducts:[]},reducers:{setProducts:(e,t)=>{e.products=t.payload,e.filteredProducts=t.payload},filterProducts:(e,t)=>{switch(e.filteredProducts=[...e.products],t.payload.sortFilter){case"1":e.filteredProducts=[...e.products];break;case"2":e.filteredProducts=e.filteredProducts.reverse();break;case"3":e.filteredProducts=e.filteredProducts.sort((e,t)=>Number(e.price["1"].slice(0,-2))<Number(t.price["1"].slice(0,-2))?-1:Number(e.price["1"].slice(0,-2))>Number(t.price["1"].slice(0,-2))?1:0);break;case"4":e.filteredProducts=e.filteredProducts.sort((e,t)=>Number(e.price["1"].slice(0,-2))>Number(t.price["1"].slice(0,-2))?-1:Number(e.price["1"].slice(0,-2))<Number(t.price["1"].slice(0,-2))?1:0)}e.filteredProducts=e.filteredProducts.filter(e=>{let r=Number(e.price["1"].slice(0,-2));return r>=t.payload.priceFilter[0]&&r<=t.payload.priceFilter[1]}),""===t.payload.categoriesFilter[0]?t.payload.categoriesFilter.slice(1).length>0&&(e.filteredProducts=e.filteredProducts.filter(e=>t.payload.categoriesFilter.includes(e.menu_category_id))):t.payload.categoriesFilter.length>0&&(e.filteredProducts=e.filteredProducts.filter(e=>t.payload.categoriesFilter.includes(e.menu_category_id)))}}}),{setProducts:o,filterProducts:c}=i.actions;t.ZP=i.reducer},481:function(){},9640:function(){},1042:function(){}},function(e){e.O(0,[358,214,454,24,275,971,596,744],function(){return e(e.s=3672)}),_N_E=e.O()}]);